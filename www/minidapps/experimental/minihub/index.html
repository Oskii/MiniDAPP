<html>
<head>

	<link rel="stylesheet" type="text/css" href="minidapps.css">
    
    <!--   FIX the viewport -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">


	<script type="text/javascript" src="minihub.js"></script>
	
	<title>MINIDAPPS</title>

</head>

<body style="background-image: url(tile-grey.jpeg);">

<script type="text/javascript">

	var minidapps = [{
	      "name":"Coin Flip",
	      "background":"./images/backdrop.png",
	      "icon":"./images/coinicon.png",
	      "description":"50 / 50 Gambler.. 1 on 1.. just need to find a worthy opponent..",
	      "category":"Gambling",
	      "uid":"coinflip",
	      "root":"/minidapps/coinflip",
	      "web":"http://192.168.5.67:9004/minidapps/coinflip",
	      "installed":1601285913429,
	      "download":""
	    },
	    {
	      "name":"DEXXED",
	      "background":"./images/stocks_back.jpeg",
	      "icon":"./images/stocks.png",
	      "description":"Simple On-Chain DEX ( Decentralised Exchange ).. <br><b>NO KYC.. 0% Fees 100% Secure</b>.. Beat That.",
	      "category":"Finance",
	      "uid":"0xEDB4C81C38CCD215A1C79CC2B108E056D4F0B2DF",
	      "root":"/minidapps/0xEDB4C81C38CCD215A1C79CC2B108E056D4F0B2DF",
	      "web":"http://192.168.5.67:9004/minidapps/0xEDB4C81C38CCD215A1C79CC2B108E056D4F0B2DF",
	      "installed":1601285913423,
	      "download":"http://192.168.5.67:9004/minidapps/0xEDB4C81C38CCD215A1C79CC2B108E056D4F0B2DF/dexxed.minidapp"
	    },
	    {
	      "name":"Terminal",
	      "background":"terminal_back.jpeg",
	      "icon":"terminal_icon.png",
	      "description":"This is the ultimate tool. The Terminal. If you want full power, full throttle access to Minima..",
	      "category":"Development",
	      "uid":"0x1EE7EF3A69F6C5159F2520DB81CC438D3C27C58F",
	      "root":"/minidapps/0x1EE7EF3A69F6C5159F2520DB81CC438D3C27C58F",
	      "web":"http://192.168.5.67:9004/minidapps/0x1EE7EF3A69F6C5159F2520DB81CC438D3C27C58F",
	      "installed":1601285906659,
	      "download":"http://192.168.5.67:9004/minidapps/0x1EE7EF3A69F6C5159F2520DB81CC438D3C27C58F/terminal.minidapp"
	    }];
	
	//Wait for the page to load..
	window.addEventListener("load", function(){
		const inputElement = document.getElementById("file-input");
		inputElement.addEventListener("change", handleFiles, false);
		
		function handleFiles() {
		  document.getElementById('installform').submit();
		}
		
		/*window.addEventListener('MinimaEvent', function(evt) {
			if(evt.detail.event == "connected"){
	 			Minima.util.setUID("MiniHUB");
	 		
			}else if(evt.detail.event == "newblock"){}
	    });
		Minima.init();*/
	});
	

	function installDAPP(){
		//Open a file dialog..
		document.getElementById('file-input').click();
	}
	
	function uninstallDAPP(name, root){
		if(confirm("Are you sure you wish to uninstall "+name+" ?")){
			//Uninstall this root app..
			window.location.href="uninstalldapp.html?uninstall="+root;
		}
	}

</script>

<table align="center" style="width:100%;height:100%;max-width:700;">
<tr>
<td>
	
	<!-- MAIN TITLE -->
	<table class="maintitle" width=100%>
		<tr>
			<td><img src="icon.png" width=100></td> 
			<td width=100%><b>MINIDAPPS</b><br>
			<div style="font-size:12;">
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			&nbsp;&nbsp;&nbsp;
			Powered by Minima</div>
			</td> 
			<td><img src="icon.png" width=100></td>	
		</tr>
	</table>
	
</td>
</tr>

<tr>
	<td width=100% height=100% class="minidapplist">
		
		<div class="collapsible">
			<table>
				<tr>
					<td><img src="icon.png" width=80 height=80></td>
					<td>DEVELOPMENT</td>
				</tr>
			</table>
		</div>
		<div class="content">
		  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
		</div>
		
		<button class="collapsible">FINANCE</button>
		<div class="content">
		  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
		</div>
		
		<button class="collapsible">GAMING</button>
		<div class="content">
		  
		  <table width=100%><tr><td>
			<table style='background-size:100%;background-image: url(/minidapps/coinflip/./images/backdrop.png);' width=100% height=100 class=minidapp>
			 	<tr>
					<td style='cursor:pointer;' rowspan=2 onclick="window.open('/minidapps/coinflip/index.html', '_Coin Flip');">
						<img src='/minidapps/coinflip/./images/coinicon.png' height=100>
					</td>
					<td width=100% class='minidappdescription'>
                   <div style='position:relative'>
				        <div style='color:red;position:absolute;right:10;top:10'>DEVELOPMENT</div>
						<br><div onclick="window.open('/minidapps/coinflip/index.html','_Coin Flip');" style='cursor:pointer;font-size:18'><b>COIN FLIP</b></div>
						<br><div onclick="window.open('/minidapps/coinflip/index.html','_Coin Flip');" style='cursor:pointer;font-size:12;min-height:20;'>50 / 50 Gambler.. 1 on 1.. just need to find a worthy opponent..</div>
						<div onclick="window.open('/minidapps/coinflip/index.html','_Coin Flip');" style='cursor:pointer;color:blue;font-size:10;text-align:right;width:98%;'><br>coinflip @ 25/09/2020 10:21:50</div>
					</div>
                     </td>
				</tr>
			</table>
		</td></tr>
		</table>
		
		<table width=100%><tr><td>
			<table style='background-size:100%;background-image: url(/minidapps/coinflip/./images/backdrop.png);' width=100% height=100 class=minidapp>
			 	<tr>
					<td style='cursor:pointer;' rowspan=2 onclick="window.open('/minidapps/coinflip/index.html', '_Coin Flip');">
						<img src='/minidapps/coinflip/./images/coinicon.png' height=100>
					</td>
					<td width=100% class='minidappdescription'>
                   <div style='position:relative'>
				        <div style='color:red;position:absolute;right:10;top:10'>DEVELOPMENT</div>
						<br><div onclick="window.open('/minidapps/coinflip/index.html','_Coin Flip');" style='cursor:pointer;font-size:18'><b>COIN FLIP</b></div>
						<br><div onclick="window.open('/minidapps/coinflip/index.html','_Coin Flip');" style='cursor:pointer;font-size:12;min-height:20;'>50 / 50 Gambler.. 1 on 1.. just need to find a worthy opponent..</div>
						<div onclick="window.open('/minidapps/coinflip/index.html','_Coin Flip');" style='cursor:pointer;color:blue;font-size:10;text-align:right;width:98%;'><br>coinflip @ 25/09/2020 10:21:50</div>
					</div>
                     </td>
				</tr>
			</table>
		</td></tr>
		</table>
		
		</div>
		
		<button class="collapsible">SYSTEM</button>
		<div class="content">
		  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
		</div>
		
		<button class="collapsible">HELP</button>
		<div class="content">
		  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
		</div>
		
		
	</td>
</tr>

<tr>
	<td>

	<table class="mainfooter" width=100% border=0>
		<tr>
			<td width=150 style="text-align:left;"> 
				<button class="installdapp" onclick="window.location.href='help.html';">HELP</button> 
			</td>
			
			<td style="text-align:center;font-size:24" nowrap>
					The <span style="color:#000">E</span><span style="color:#222">v</span><span style="color:#444">o</span><span style="color:#666">l</span><span style="color:#888">u</span><span style="color:#aaa">t</span><span style="color:#666">i</span><span style="color:#ddd">o</span><span style="color:#fff">n</span> <!-- will <b>not</b> be Centralised.. -->
			</td>
			
			<td width=150 style="text-align:right;" nowrap> 
				<button class="installdapp" onclick="installDAPP();">INSTALL</button> 	
			</td>
		</tr>
	</table>
	
</td>
</tr>
</table>

<!-- The actual form that is used to upload minidapps -->
<form enctype="multipart/form-data" id="installform" action="installdapp.html" method="post" style="display:none;">
    <!-- Used to open the select File Dialog.. -->
	<input accept=".minidapp" id="file-input" value="nofile" type="file" name="minidapp" style="display:none;" /> 
</form>


<script>
var coll = document.getElementsByClassName("collapsible");
var i;

for (i = 0; i < coll.length; i++) {
  coll[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var content = this.nextElementSibling;
    if (content.style.maxHeight){
      content.style.maxHeight = null;
    } else {
      content.style.maxHeight = content.scrollHeight + "px";
    } 
  });
}
</script>

</body>

</html>