(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{pJyb:function(n,t,e){"use strict";e.r(t),e.d(t,"CashPageModule",function(){return w});var o=e("0lCN"),i=e("ofXK"),a=e("3Pt+"),c=e("TEn/"),l=e("tyNb"),r=e("mrSG"),s=e("QSgb"),d=e("wd/R"),g=e("fXoL"),b=e("rux5"),h=e("ON18"),f=e("Q+GK"),p=e("LLDH");function m(n,t){if(1&n&&(g.Kb(0,"ion-row",6),g.Kb(1,"ion-col",7),g.kc(2),g.Jb(),g.Jb()),2&n){const n=g.Ub();g.xb(2),g.mc(" ",n.status," ")}}function u(n,t){1&n&&(g.Kb(0,"ion-label",17),g.kc(1," Autocollecting "),g.Jb())}function M(n,t){if(1&n){const n=g.Lb();g.Kb(0,"ion-chip",18),g.Sb("click",function(){return g.fc(n),g.Ub(2).presentReason()}),g.Kb(1,"ion-label",19),g.kc(2," Missed "),g.Jb(),g.Jb()}}function _(n,t){if(1&n&&(g.Kb(0,"ion-label",22),g.kc(1),g.Jb()),2&n){const n=g.Ub(2).$implicit;g.xb(1),g.mc(" ",n.remainder," ")}}function C(n,t){if(1&n&&(g.Kb(0,"div",20),g.jc(1,_,2,1,"ion-label",21),g.Jb()),2&n){const n=g.Ub().$implicit;g.xb(1),g.Zb("ngIf",n.remainder>0)}}function O(n,t){if(1&n&&(g.Kb(0,"ion-row",8),g.Kb(1,"ion-col",9),g.Kb(2,"p"),g.kc(3),g.Jb(),g.Jb(),g.Kb(4,"ion-col",10),g.Kb(5,"div",11),g.Kb(6,"ion-label",12),g.kc(7),g.Jb(),g.Jb(),g.Jb(),g.Kb(8,"ion-col",13),g.jc(9,u,2,0,"ion-label",14),g.jc(10,M,3,0,"ion-chip",15),g.jc(11,C,2,1,"div",16),g.Jb(),g.Jb()),2&n){const n=t.$implicit;g.ac("id","row",n.coinid,""),g.xb(3),g.lc(n.token_amount),g.xb(4),g.mc(" ",n.time,""),g.xb(2),g.Zb("ngIf","Ready"===n.status),g.xb(1),g.Zb("ngIf","Missed"===n.status),g.xb(1),g.Zb("ngIf","Not Ready"==n.status)}}const P=[{path:"",component:(()=>{class n{constructor(n,t,e,o){this._storeService=n,this._loginService=t,this.alertController=e,this.toastController=o,this.rewards=[],this.cashlist=[],this.totalRemaining=new s.Decimal(0),this.referenceID="",this.retry=0}ionViewWillEnter(){this.fetchAllIncentiveCash()}fetchTokenId(){return Object(r.a)(this,void 0,void 0,function*(){this.token||(yield this._storeService.fetchTokenFile().then(n=>{this.token=n}).catch(n=>{console.log(n),this.status="No pending cash available... please try again later."}))})}fetchKey(){return Object(r.a)(this,void 0,void 0,function*(){this.key&&0!==this.key.length||(yield this._storeService.fetchUserKey().then(n=>{this.key=n}).catch(n=>{console.log(n),this.status="No pending cash available... please try again later."}))})}fetchAllIncentiveCash(){return Object(r.a)(this,void 0,void 0,function*(){this.status="Fetching your incentive cash...",yield this.fetchKey(),yield this.fetchTokenId(),this.token&&this.token.tokenId.length>0&&this.key&&this.key.length>0&&(yield this._storeService.pollCash(this.key,this.token).then(n=>{this.cashlist=n,0===this.cashlist.length?this.status="No pending cash available... please try again later.":(this.status="",this.totalRemaining=new s.Decimal(0),this.cashlist.sort(this.byAscDate),this.cashlist.forEach(n=>{this.totalRemaining=new s.Decimal(this.totalRemaining).add(n.token_amount);let t=(new Date).getTime();"Missed"===n.status?n.time=d(t-20*n.remainder*1e3).format("MMM DD - HH:mm"):"Not Ready"===n.status?n.time=d(t+20*n.remainder*1e3).format("MMM DD - HH:mm"):"Ready"===n.status&&(n.time=d(t-20*n.remainder*1e3).format("MMM DD - HH:mm"))}))}))})}byAscDate(n,t){return parseInt(n.blockno)-parseInt(t.blockno)}signOut(){this._loginService.logout()}presentReason(){return Object(r.a)(this,void 0,void 0,function*(){const n=yield this.alertController.create({message:"Your APK wasn't connected to the network or has entered sleep mode.",header:"Collection Missed!",subHeader:"Reason",buttons:["OK"]});return yield n.present()})}}return n.\u0275fac=function(t){return new(t||n)(g.Hb(b.a),g.Hb(h.a),g.Hb(c.a),g.Hb(c.E))},n.\u0275cmp=g.Bb({type:n,selectors:[["app-cash"]],decls:7,vars:8,consts:[[3,"$total","$actionPageTitle","$cashpage"],[3,"fullscreen"],[1,"table","ion-no-padding","animate__animated","animate__fadeIn"],["class","ion-no-padding",4,"ngIf"],["class","table-content ion-no-margin",3,"id",4,"ngFor","ngForOf"],[3,"$total","$page"],[1,"ion-no-padding"],["size","12",1,"empty-list","ion-no-padding","ion-text-center"],[1,"table-content","ion-no-margin",3,"id"],[1,"ion-text-left","ion-no-padding","manrope-bold"],[1,"ion-text-left","ion-no-padding"],[1,"due"],[1,"ion-no-padding","remainder","remainder-date"],[1,"ion-text-right","ion-no-padding",2,"display","flex","align-items","center","justify-content","flex-end"],["class","awaiting ion-no-padding ion-no-margin",4,"ngIf"],["class","missed-collection ion-no-padding ion-no-margin",3,"click",4,"ngIf"],["class","block",4,"ngIf"],[1,"awaiting","ion-no-padding","ion-no-margin"],[1,"missed-collection","ion-no-padding","ion-no-margin",3,"click"],[1,"ion-no-padding","ion-no-margin"],[1,"block"],["class","ion-no-padding remainder",4,"ngIf"],[1,"ion-no-padding","remainder"]],template:function(n,t){1&n&&(g.Ib(0,"custom-header",0),g.Kb(1,"ion-content",1),g.Kb(2,"ion-grid",2),g.jc(3,m,3,1,"ion-row",3),g.Kb(4,"div"),g.jc(5,O,12,6,"ion-row",4),g.Jb(),g.Jb(),g.Jb(),g.Ib(6,"custom-footer",5)),2&n&&(g.Zb("$total",t.totalRemaining)("$actionPageTitle","Rewards Pending")("$cashpage",!0),g.xb(1),g.Zb("fullscreen",!0),g.xb(2),g.Zb("ngIf",0===t.cashlist.length),g.xb(2),g.Zb("ngForOf",t.cashlist),g.xb(1),g.Zb("$total",t.totalRemaining)("$page","cash"))},directives:[f.a,c.k,c.m,i.k,i.j,p.a,c.w,c.j,c.r,c.i],styles:["[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}ion-grid.table[_ngcontent-%COMP%]{margin-top:15px}ion-grid.table[_ngcontent-%COMP%]   ion-row.table-content[_ngcontent-%COMP%]{padding-left:27px;padding-right:27px}ion-grid.table[_ngcontent-%COMP%]   ion-row.table-content[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-chip.missed-collection[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;padding:0;text-align:center;background:transparent;background-color:initial}ion-grid.table[_ngcontent-%COMP%]   ion-row.table-content[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-chip.missed-collection[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{text-decoration:underline;color:var(--ion-color-secondary)}ion-grid.table[_ngcontent-%COMP%]   ion-row.table-content[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;font-variant-numeric:tabular-nums}ion-grid.table[_ngcontent-%COMP%]   ion-row.table-content[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-label.awaiting[_ngcontent-%COMP%]{padding:0;display:flex;text-align:right;background:transparent;background-color:initial;color:var(--ion-color-secondary)}ion-grid.table[_ngcontent-%COMP%]   ion-row.table-content[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   div.due[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column;justify-content:center}ion-grid.table[_ngcontent-%COMP%]   ion-row.table-content[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   div.due[_ngcontent-%COMP%]   ion-label.remainder-date[_ngcontent-%COMP%]{font-size:12px}ion-grid.table[_ngcontent-%COMP%]   ion-row.table-content[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   div.block[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:center;justify-content:center}ion-grid.table[_ngcontent-%COMP%]   ion-row.table-content[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   div.block[_ngcontent-%COMP%]   ion-label.remainder[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:13px}ion-grid.table[_ngcontent-%COMP%]   ion-row.table-content[_ngcontent-%COMP%]:nth-child(2n){background-color:#f0f0fa;background:#f0f0fa}ion-grid.table[_ngcontent-%COMP%]   ion-row.table-content[_ngcontent-%COMP%]:last-child{margin-bottom:15px}@media only screen and (min-width:992px){ion-grid.table[_ngcontent-%COMP%]   ion-row.header[_ngcontent-%COMP%]{margin-left:110px;margin-right:110px}ion-grid.table[_ngcontent-%COMP%]   ion-row.table-content[_ngcontent-%COMP%]{padding-left:110px;padding-right:110px}ion-grid.table[_ngcontent-%COMP%]   ion-row.table-footer[_ngcontent-%COMP%]{margin-left:110px;margin-right:110px}ion-footer[_ngcontent-%COMP%]   ion-toolbar.table-footer[_ngcontent-%COMP%], ion-header[_ngcontent-%COMP%]   ion-toolbar.page-header[_ngcontent-%COMP%], ion-header[_ngcontent-%COMP%]   ion-toolbar.table-header[_ngcontent-%COMP%]{padding-left:110px;padding-right:110px}}ion-content[_ngcontent-%COMP%]{--offset-bottom:auto!important;--overflow:hidden;overflow:auto}ion-content[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}"]}),n})()}];let y=(()=>{class n{}return n.\u0275mod=g.Fb({type:n}),n.\u0275inj=g.Eb({factory:function(t){return new(t||n)},imports:[[l.j.forChild(P)],l.j]}),n})(),w=(()=>{class n{}return n.\u0275mod=g.Fb({type:n}),n.\u0275inj=g.Eb({factory:function(t){return new(t||n)},imports:[[i.b,a.d,c.A,y,o.a]]}),n})()}}]);