(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{pJyb:function(n,t,e){"use strict";e.r(t),e.d(t,"CashPageModule",function(){return k});var o=e("0lCN"),i=e("rnMS"),a=e("ofXK"),c=e("3Pt+"),l=e("TEn/"),r=e("tyNb"),s=e("mrSG"),g=e("QSgb"),d=e("wd/R"),b=e("fXoL"),h=e("rux5"),p=e("ON18"),f=e("Q+GK"),m=e("LLDH");function u(n,t){if(1&n&&(b.Lb(0,"ion-row",6),b.Lb(1,"ion-col",7),b.nc(2),b.Kb(),b.Kb()),2&n){const n=b.Vb();b.yb(2),b.pc(" ",n.status," ")}}function M(n,t){1&n&&(b.Lb(0,"ion-label",17),b.nc(1," Autocollecting "),b.Kb())}function _(n,t){if(1&n){const n=b.Mb();b.Lb(0,"ion-chip",18),b.Tb("click",function(){return b.gc(n),b.Vb(2).presentReason()}),b.Lb(1,"ion-label",19),b.nc(2," Missed "),b.Kb(),b.Kb()}}function C(n,t){if(1&n&&(b.Lb(0,"ion-label",22),b.nc(1),b.Kb()),2&n){const n=b.Vb(2).$implicit;b.yb(1),b.pc(" ",n.remainder," ")}}function O(n,t){if(1&n&&(b.Lb(0,"div",20),b.lc(1,C,2,1,"ion-label",21),b.Kb()),2&n){const n=b.Vb().$implicit;b.yb(1),b.ac("ngIf",n.remainder>0)}}function y(n,t){if(1&n&&(b.Lb(0,"ion-row",8),b.Lb(1,"ion-col",9),b.Lb(2,"p"),b.nc(3),b.Kb(),b.Kb(),b.Lb(4,"ion-col",10),b.Lb(5,"div",11),b.Lb(6,"ion-label",12),b.nc(7),b.Kb(),b.Kb(),b.Kb(),b.Lb(8,"ion-col",13),b.lc(9,M,2,0,"ion-label",14),b.lc(10,_,3,0,"ion-chip",15),b.lc(11,O,2,1,"div",16),b.Kb(),b.Kb()),2&n){const n=t.$implicit;b.bc("id","row",n.coinid,""),b.yb(3),b.oc(n.token_amount),b.yb(4),b.pc(" ",n.time,""),b.yb(2),b.ac("ngIf","Ready"===n.status),b.yb(1),b.ac("ngIf","Missed"===n.status),b.yb(1),b.ac("ngIf","Not Ready"==n.status)}}const P=[{path:"",component:(()=>{class n{constructor(n,t,e,o){this._storeService=n,this._loginService=t,this.alertController=e,this.toastController=o,this.rewards=[],this.cashlist=[],this.totalRemaining=new g.Decimal(0),this.referenceID="",this.retry=0}ionViewWillEnter(){this.fetchAllIncentiveCash()}fetchTokenId(){return Object(s.a)(this,void 0,void 0,function*(){this.token||(yield this._storeService.fetchTokenFile().then(n=>{this.token=n}).catch(n=>{console.log(n),this.status="No pending cash available... please try again later."}))})}fetchKey(){return Object(s.a)(this,void 0,void 0,function*(){this.key&&0!==this.key.length||(yield this._storeService.fetchUserKey().then(n=>{this.key=n}).catch(n=>{console.log(n),this.status="No pending cash available... please try again later."}))})}fetchAllIncentiveCash(){return Object(s.a)(this,void 0,void 0,function*(){this.status="Fetching your incentive cash...",yield this.fetchKey(),yield this.fetchTokenId(),this.token&&this.token.tokenId.length>0&&this.key&&this.key.length>0&&(yield this._storeService.pollCash(this.key,this.token).then(n=>{this.cashlist=n,0===this.cashlist.length?this.status="No pending cash available... please try again later.":(this.status="",this.totalRemaining=new g.Decimal(0),this.cashlist.sort(this.byAscDate),this.cashlist.forEach(n=>{this.totalRemaining=new g.Decimal(this.totalRemaining).add(n.token_amount);let t=(new Date).getTime();"Missed"===n.status?n.time=d(t-20*n.remainder*1e3).format("MMM DD - HH:mm"):"Not Ready"===n.status?n.time=d(t+20*n.remainder*1e3).format("MMM DD - HH:mm"):"Ready"===n.status&&(n.time=d(t-20*n.remainder*1e3).format("MMM DD - HH:mm"))}))}))})}byAscDate(n,t){return parseInt(n.blockno)-parseInt(t.blockno)}signOut(){this._loginService.logout()}presentReason(){return Object(s.a)(this,void 0,void 0,function*(){const n=yield this.alertController.create({message:"Your APK wasn't connected to the network or has entered sleep mode.",header:"Collection Missed!",subHeader:"Reason",buttons:["OK"]});return yield n.present()})}}return n.\u0275fac=function(t){return new(t||n)(b.Ib(h.a),b.Ib(p.a),b.Ib(l.a),b.Ib(l.D))},n.\u0275cmp=b.Cb({type:n,selectors:[["app-cash"]],decls:7,vars:8,consts:[[3,"$total","$actionPageTitle","$cashpage"],[3,"fullscreen"],[1,"table","ion-no-padding","animate__animated","animate__fadeIn"],["class","ion-no-padding",4,"ngIf"],["class","table-content ion-no-margin",3,"id",4,"ngFor","ngForOf"],[3,"$total","$page"],[1,"ion-no-padding"],["size","12",1,"empty-list","ion-no-padding","ion-text-center"],[1,"table-content","ion-no-margin",3,"id"],[1,"ion-text-left","ion-no-padding","manrope-bold"],[1,"ion-text-left","ion-no-padding"],[1,"due"],[1,"ion-no-padding","remainder","remainder-date"],[1,"ion-text-right","ion-no-padding",2,"display","flex","align-items","center","justify-content","flex-end"],["class","awaiting ion-no-padding ion-no-margin",4,"ngIf"],["class","missed-collection ion-no-padding ion-no-margin",3,"click",4,"ngIf"],["class","block",4,"ngIf"],[1,"awaiting","ion-no-padding","ion-no-margin"],[1,"missed-collection","ion-no-padding","ion-no-margin",3,"click"],[1,"ion-no-padding","ion-no-margin"],[1,"block"],["class","ion-no-padding remainder",4,"ngIf"],[1,"ion-no-padding","remainder"]],template:function(n,t){1&n&&(b.Jb(0,"custom-header",0),b.Lb(1,"ion-content",1),b.Lb(2,"ion-grid",2),b.lc(3,u,3,1,"ion-row",3),b.Lb(4,"div"),b.lc(5,y,12,6,"ion-row",4),b.Kb(),b.Kb(),b.Kb(),b.Jb(6,"custom-footer",5)),2&n&&(b.ac("$total",t.totalRemaining)("$actionPageTitle","Rewards Pending")("$cashpage",!0),b.yb(1),b.ac("fullscreen",!0),b.yb(2),b.ac("ngIf",0===t.cashlist.length),b.yb(2),b.ac("ngForOf",t.cashlist),b.yb(1),b.ac("$total",t.totalRemaining)("$page","cash"))},directives:[f.a,l.h,l.j,a.k,a.j,m.a,l.t,l.g,l.o,l.f],styles:["[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}ion-grid.table[_ngcontent-%COMP%]{margin-top:15px}ion-grid.table[_ngcontent-%COMP%]   ion-row.table-content[_ngcontent-%COMP%]{padding-left:27px;padding-right:27px}ion-grid.table[_ngcontent-%COMP%]   ion-row.table-content[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-chip.missed-collection[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;padding:0;text-align:center;background:transparent;background-color:initial}ion-grid.table[_ngcontent-%COMP%]   ion-row.table-content[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-chip.missed-collection[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{text-decoration:underline;color:var(--ion-color-secondary)}ion-grid.table[_ngcontent-%COMP%]   ion-row.table-content[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;font-variant-numeric:tabular-nums}ion-grid.table[_ngcontent-%COMP%]   ion-row.table-content[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-label.awaiting[_ngcontent-%COMP%]{padding:0;display:flex;text-align:right;background:transparent;background-color:initial;color:var(--ion-color-secondary)}ion-grid.table[_ngcontent-%COMP%]   ion-row.table-content[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   div.due[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column;justify-content:center}ion-grid.table[_ngcontent-%COMP%]   ion-row.table-content[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   div.due[_ngcontent-%COMP%]   ion-label.remainder-date[_ngcontent-%COMP%]{font-size:12px}ion-grid.table[_ngcontent-%COMP%]   ion-row.table-content[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   div.block[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:center;justify-content:center}ion-grid.table[_ngcontent-%COMP%]   ion-row.table-content[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   div.block[_ngcontent-%COMP%]   ion-label.remainder[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:13px}ion-grid.table[_ngcontent-%COMP%]   ion-row.table-content[_ngcontent-%COMP%]:nth-child(2n){background-color:#f0f0fa;background:#f0f0fa}ion-grid.table[_ngcontent-%COMP%]   ion-row.table-content[_ngcontent-%COMP%]:last-child{margin-bottom:15px}@media only screen and (min-width:992px){ion-grid.table[_ngcontent-%COMP%]   ion-row.header[_ngcontent-%COMP%]{margin-left:110px;margin-right:110px}ion-grid.table[_ngcontent-%COMP%]   ion-row.table-content[_ngcontent-%COMP%]{padding-left:110px;padding-right:110px}ion-grid.table[_ngcontent-%COMP%]   ion-row.table-footer[_ngcontent-%COMP%]{margin-left:110px;margin-right:110px}ion-footer[_ngcontent-%COMP%]   ion-toolbar.table-footer[_ngcontent-%COMP%], ion-header[_ngcontent-%COMP%]   ion-toolbar.page-header[_ngcontent-%COMP%], ion-header[_ngcontent-%COMP%]   ion-toolbar.table-header[_ngcontent-%COMP%]{padding-left:110px;padding-right:110px}}ion-content[_ngcontent-%COMP%]{--offset-bottom:auto!important;--overflow:hidden;overflow:auto}ion-content[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}"]}),n})()}];let w=(()=>{class n{}return n.\u0275mod=b.Gb({type:n}),n.\u0275inj=b.Fb({factory:function(t){return new(t||n)},imports:[[r.j.forChild(P)],r.j]}),n})(),k=(()=>{class n{}return n.\u0275mod=b.Gb({type:n}),n.\u0275inj=b.Fb({factory:function(t){return new(t||n)},imports:[[a.b,c.d,l.y,w,o.a,i.b.forRoot()]]}),n})()}}]);